# 信息交换方式-路分报

### 1.电路交换

必须经过“建立连接   通信   释放连接”三个步骤的连网方式为面向连接的。

> 电路交换举例
>
> A 和 B 通话经过四个交换机
>
> 通话在 A 到 B 的连接上进行

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104084655.png)

> C 和 D 通话只经过一个本地交换机通话在 C 到 D 的连接上进行

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104085003.png)

缺点：电路交换传送计算机数据效率低

+ 计算机数据具有突发性。
+ 这导致通信线路的利用率很低。



### 2.分组交换

分组交换采用存储转发技术。

报文（ message）：要发送的整块数据

分组或包（package）:将报文划分成的等长的数据段，每个数据段前加上必要的控制信息组成的首部（header） 。分组的首部也称为包头。

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104085304.png)

可以看出分组交换包含“多余”的三个首部信息

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104085421.png)





分组交换网基本原理：

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104085445.png)



分组交换的优点：

+ 高效：分组过程中动态分配传输带宽，对通信电路逐段占用
+ 灵活：每个节点均为智能，为每一个分组独立地选择转发路由。    
+ 迅速：以分组作为传送单位，可以不先建立连接就向其它主机发送分组；网络使用高速链路。    
+ 可靠：完善的网络协议；分布式多路由的分组交换网，使用网络有很好的生存性。



 分组交换存在的问题：

+ 有一定的时延
+ 各分组所携带的控制信息会造成一定的开销（overhead）
+ 需要专门的管理和控制机制。

特点

+ 需要进行报文的拆分和重组,需要额外开销,为每个数据包额外加上头部 **报文交换和分组交换均用存储-转发的交换方式**



### 3.报文交换（message switching）(综合交换网)

**报文交换**（英语：Message switching），又称**存储转发交换**，是数据交换的三种方式之一，报文整个地发送，一次一跳。**报文交换是[分组交换](https://zh.wikipedia.org/wiki/%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2)的前身**，是由由[莱昂纳多·克莱洛克](https://zh.wikipedia.org/wiki/%E8%8E%B1%E6%98%82%E7%BA%B3%E5%A4%9A%C2%B7%E5%85%8B%E8%8E%B1%E6%B4%9B%E5%85%8B)于1961年提出的。

每一个结点接收整个报文，检查目标结点地址，然后根据网络中的交通情况在适当的时候转发到下一个结点。经过多次的存储——转发，最后到达目标，因而这样的网络叫存储——转发网络。其中的交换结点要有足够大的[存储空间](https://baike.baidu.com/item/%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4)（一般是磁盘），用以缓冲收到的长报文。

交换结点对各个方向上收到的报文排队，对照下一个转结点，然后再转发出去，这些都带来了排队等待延迟。报文交换的优点是不建立专用链路，但是线路利用率较高，这是由通信中的等待时延换来的。

[电子邮件系统](https://baike.baidu.com/item/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F)（[E-mail](https://baike.baidu.com/item/E-mail)）适合采用报文交换方式。

 特点

+ 报文交换基于存储转发原理
+ 在报文交换中心，以每份报文为单位，根据报文的目的站地址，在进行相应的转发。
+ 存储接受到的报文，判断其目标地址以选择路由，最后，在下一跳路由空闲时，将数据转发给下一跳路由。报文交换系统现今都由分组交换或电路交换网络所承载。
+ 每一条报文都作为互不相干的实体进行处理。每一条报文都包含地址信息, 一次交换后,报文中的信息会被读取并且下一次交换的传输路径将被确定。
+ 根据网络状况,通信选择的传输路径也会不同。 每一条报文都会在下一次交换前被存储(在硬盘上存储时,会受到RAM的限制)。

优点

+ 报文交换不需要为通信双方预先建立一条专用的通信线路，不存在连接建立时延，用户可随时发送报文。
+ 由于采用存储转发的传输方式，使之具有下列优点：a.在报文交换中便于设置代码检验和数据重发设施，加之交换结点还具有路径选择，就可以做到某条传输路径发生故障时，重新选择另一条路径传输数据，提高了传输的可靠性；b.在存储转发中容易实现代码转换和速率匹配，甚至收发双方可以不同时处于[可用状态](https://baike.baidu.com/item/%E5%8F%AF%E7%94%A8%E7%8A%B6%E6%80%81)。这样就便于类型、规格和速度不同的计算机之间进行通信；c.提供多目标服务，即一个报文可以同时发送到多个目的地址，这在电路交换中是很难实现的；d.允许建立数据传输的优先级，使优先级高的报文优先转换。
+ 通信双方不是固定占有一条通信线路，而是在不同的时间一段一段地部分占有这条物理通路，因而大大提高了通信线路的利用率。 

缺点：

+ 延迟时间较长，几分钟到几小时不等。由于数据进入交换结点后要经历存储、转发这一过程，从而引起转发时延（包括接收报文、检验正确性、排队、发送时间等），而且网络的通信量愈大，造成的时延就愈大，因此报文交换的实时性差，不适合传送实时或交互式业务的数据。

+ 报文交换只适用于数字信号。

+ 由于报文长度没有限制，而每个中间结点都要完整地接收传来的整个报文，当输出线路不空闲时，还可能要存储几个完整报文等待转发，要求网络中每个结点有较大的[缓冲区](https://baike.baidu.com/item/%E7%BC%93%E5%86%B2%E5%8C%BA)。为了降低成本，减少结点的[缓冲存储器](https://baike.baidu.com/item/%E7%BC%93%E5%86%B2%E5%AD%98%E5%82%A8%E5%99%A8)的容量，有时要把等待转发的报文存在磁盘上，进一步增加了传送时延。

  

  



### 4.比较



+ 电路交换、分组交换、报文交换之间的比较

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104090022.png)

A 和D分别表示源结点和目的结点B和C是在A和D之间的中间结点



> 电路交换：约定好一个通路，这边发，那边接受，类似于A蓝牙面对面传文件给C
>
> 报文交换：一次一个结点，每次传整个文件，类似于A要传电影给C，可是A上午有空，C下午有空，恰巧B上下午都有空，于是A上午将整个文件电影传给B，B下午将整个电影传给C，注意B要接受整个文件，且B要知道传给谁
>
> 分组交换：由报文交换发展而来，打包成一个个小包分别转发，类似于A要传4个G的电影给C，可是A上午有空，C下午有空，恰巧B1和B2上下午都有空，但是B1和B2都只有3个G的空间，且他俩不住在一起，于是A将4个G的电影压缩成两个2个G压缩包文件，上午将两个文件压缩包文件分别传给B1和B2，B1和B2下午将各自电影压缩文件传给C，注意B1和B2只要接受压缩文件一部分，且B1和B2都要知道传给谁，如果B1和B2中有一个文件损坏，这个电影C就看不了了，除非这个人负责的部分重新传





+ 分组交换与电路交换相比：

优点：

1. 线路利用率高。电路交换占用过多网络资源，属于独占型交换方式，即使拥有线路复用技术，也无法提高网络的利用率，无法同时为太多（相对概念）用户提供服务。而分组交换则采用统计多路复用技术，根据实际需求动态共享线路。这样可在一定程度上提高了同一线路上用户的数量。
2. 无需事先建立连接。电路交换需事先建立连接，然后进行交换。而分组交换则不需要，直接进行传输即可。
3. 以较快速度满足突发性服务的需求。电路交换应对突发性的服务较为缓慢，需事先建立连接等操作，而分组交换无需等待，直接发起相应请求即可。

缺点:

1. 对于需要持续提供服务的应用，电路交换要优于分组交换。
2. 分组交换可能出现丢包、差错等现象。而电路交换由于一开始就建立连接，源源不断地从源点发往终点，传输持续性包出现差错的概率要小很多。

 

+ 分组交换与报文交换相比：

优点：

1. 减小了传输时延。由于报文交换需将以报文为单位进行传输，而分组交换只需以分组为单位进行传输，同时，在传输前面分组时，可并行传输其他分组，这样提高了效率。
2. 占用传输线路中较少资源。由于报文交换需要将整个报文在路由器或交换机上存储下来再找转发的端口，所以路由器或交换机的缓存必须大于或等于整个报文的大小，而分组交换则以分组的形式转发，所以路由器或交换机的缓存大于等于分组的大小即可。
3. 出错几率减小。因为分组较短，其出错机率必然减少，每次重发的数据量也就大大减少，这样不仅提高了可靠性，也减少了传输时延。
4. 分组交换和报文交换一样都采用存储转发原理，但由于交换结点上使用了电子计算机且分组为定长，其长度不大，完全可以放在结点交换机的存储器中进行处理，这就使分组转发非常迅速。

缺点:

1. 相比报文交换，从传输总量上来说，分组交换需要传输更多的控制信息作为分组的头。
2. 报文交换不会出现顺序错乱的问题，而分组交换可能会出现分组顺序乱和丢失分组等情况。





参考：

+ <https://segmentfault.com/a/1190000016067655>
+ <https://zh.wikipedia.org/wiki/%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2>
+ <https://baike.baidu.com/item/%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2>