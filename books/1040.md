# TCP/IP参考模型

## TCP/IP 协议族

TCP/IP 作为 Internet 的核心协议,通过近20多年的发展已日渐成熟,并被广泛应用于局域网和广域网中,目前已成为事实上的国际标准。作为一个最早的、也是迄今为止发展最为成熟的互连网络协议系统, TCP/IP 包含许多重要的基本特性,这些特性主要表现在5个方面:逻辑编址、路由选择、域名解析、错误检测和流量控制以及对应用程序的支持等。

### (1) 逻辑编址。

每一块网卡在出厂时就由厂家分配了一个独一无二的永久性的物理地址。在 Internet 中,为每台连入因特网的计算机分配一个逻辑地址,这个逻辑地址被称为 IP 地址。一个 IP 地址可以包括一个网络 ID 号,用来标识网络;一个子网络 ID 号,用来标识网络上的一个子网;另外,还有一个主机 ID 号,用来标识子网络上的一台计算机。这样,通过这个分配给某台计算机的 IP 地址,就可以很快地找到相应的计算机。

### (2) 路由选择。

在 TCP/IP 中包含了专门用于定义路由器如何选择网络路径的协议,即 IP数据包的路由选择。

### (3) 域名解析。

虽然 TCP/IP 采用的是32位的 IP 地址,但考虑到用户记忆方便,专门设计了一种方便的字母式地址结构,称为域名或 DNS (域名服务)名字。将域名映射为 IP 地址的操作称为域名解析。域名具有较稳定的特点,而 IP 地址较易发生变化。

### (4) 错误检测和流量控制。

 TCP/IP 具有分组交换确保数据信息在网络上可靠传递的特性,这些特性包括检测数据信息的传输错误(保证到达目的地的数据信息没有发生变化),确认已传递的数据信息已被成功地接收,监测网络系统中的信息流量,防止出现网络拥塞。

## TCP/IP 分层模型

协议是对数据在计算机或设备之间传输时的表示方法进行定义和描述的标准。协议规定了进行传输、检测错误以及传送确认信息等内容。 TCP / IP 是个协议族,它包含了多种协议。 ISO/OSI模型、 TCP / IP 的分层模型及协议的对比如图所示。

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104113602.png)

<center>TCP / IP 模型与 OSI 模型的对比</center>

TCP / IP 分层模型由4个层次构成,即应用层、传输层、网际层和网络接口层,对各层的功能简述如下。

### (1) 应用层。

应用层处在分层模型的最高层,用户调用应用程序来访问 TCP / IP 互连网络,以享受网络上提供的各种服务。应用程序负责发送和接收数据。每个应用程序可以选择所需要的传输服务类型,并把数据按照传输层的要求组织好,再向下层传送,包括独立的报文序列和连续字节流两种类型。

```
DNS：域名系统或域名服务器
HTTP：超文本传输协议
FTP：文件传输协议
TELNET：远程登录（终端）仿真协议
NNTP：网络新闻传输服务协议
SMTP：简单邮件管理协议
SNMP：简单网络管理协议
```



### (2) 传输层。

传输层的基本任务是提供应用程序之间的通信服务,这种通信又称端到端的通信。传输层既要系统地管理数据信息的流动,还要提供可靠的传输服务,以确保数据准确而有序地到达目的地。为了这个目的，传输层协议软件需要进行协商，让接收方回送确认信息及让发送方重发丢失的分组。在传输层与网际层之间传递两对象是传输层分组。

```
    TCP:传输控制协议，提供可靠的面向连接服务
    UDP:用户数据报协议，提供无连接服务
```



### (3) 网际层。

网际层又称 IP 层,主要处理机器之间的通信问题。它接收传输层请求,传送某个具有目的地址信息的分组。该层主要完成以下功能。

+ 1把分组封装到 IP 数据报 (IP Datagram )中,填入数据报的首部(也称为报头),使用路由算法选择把数据报直接送到目标机或把数据报发送给路由器,然后再把数据报交给下面的网络接口层中对应的网络接口模块。
+ 2 处理接收到的数据报,检验其正确性。使用路由算法来决定是在本地进行处理,还是继续向前发送。如果数据报的目标机处于本机所在的网络,该层软件就把数据报的报头剥去,再选择适当的传输层协议软件来处理这个分组。
+ 3 适时发出 ICMP 的差错和控制报文,并处理收到的 ICMP 报文。

```
    IP：Internet协议
    IGMP： Internet组管理协议
    ICMP： Internet控制消息协议
    ARP：地址解析协议
    RARP：反向地址解析协议
```



### (4)网络接口层。

网络接口层又称数据链路层,处于 TCP / IP 协议层之下,负责接收 IP 数据报,并把数据报通过选定的网络发送出去。该层包含设备驱动程序,也可能是一个复杂的、使用自己的数据链路协议的子系统。

```
        无网络协议
        支持各种接口类型的网络
        
TCP / IP 协议不包含具体的物理层和数据链路层,只定义了网络接口层作为物理层与网络层的接口规范。这个物理层可以是广域网,例如 X .25公用数据网,也可以是局域网,例如 Ethernet ,Token - Ring 和 FDDI 等。任何物理网络只要按照这个接口规范开发网络接口驱绅程序,就能够与 TCP / IP 协议集成起来。网络接口层处在 TCP / IP 协议的最底层,主要负责管理为物理网络准备数据所需的全部服务程序和功能。
```





![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191104115456.png)

<center>TCP/IP模型中的各层主要协议</center>













