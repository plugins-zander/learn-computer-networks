# C类子网划分步骤

## 1.步骤

（1）确定需要的网络个数

+ 每个子网一个
+ 每条广域网连接一个（接口）

（2）确定每个子网所需的主机个数

+ 每个主机一个
+ 每个路由器接口一个

（3）根据上述要求，确定一下内容

+ 一个用于整个网络的子网掩码
+ 每个网络网段的唯一子网地址
+ 每个子网的主机IP地址范围



## 2.确定子网掩码

在C类网络中，只有8位用于定义主机地址，因此只能用下表所示的C类子网掩码（第4字节）

<center>C类子网掩码</center>

| 二进制                                   | 十进制          | CIDR |
| ---------------------------------------- | --------------- | ---- |
| 1111 1111 1111 1111 1111 1111  0000 0000 | 255.255.255.0   | /24  |
| 1111 1111 1111 1111 1111 1111  1000 0000 | 255.255.255.128 | /25  |
| 1111 1111 1111 1111 1111 1111  1100 0000 | 255.255.255.192 | /26  |
| 1111 1111 1111 1111 1111 1111  1110 0000 | 255.255.255.224 | /27  |
| 1111 1111 1111 1111 1111 1111  1111 0000 | 255.255.255.240 | /28  |
| 1111 1111 1111 1111 1111 1111  1111 1000 | 255.255.255.248 | /29  |
| 1111 1111 1111 1111 1111 1111  1111 1100 | 255.255.255.252 | /30  |

> 1111 1111 1111 1111 1111 1111  1111 1110 不可以，因为会导致主机地址全0全1



## 3.C类网络的子网划分

**给出划分子网的子网掩码后**，需要确定计算改子网掩码提供的子网数以及每个子网的合法主机地址和广播地址

### 3.1确定选定子网掩码将创建的子网数

+ $2^x$个
  + 其中$x$为子网掩码中第四字节取值为1的位数

> 例如在`1111 1111 1111 1111 1111 1111  1100 0000`的第四字节末尾`1100 0000`中，取值为1的位数为2，因此子网数为$2^2=4$个

### 3.2确定每个子网主机数

+ $2^y-2$个
  + 其中$y$为子网掩码中第四字节取值为0的位数
  + 减去的两个分别为子网地址和广播地址，他们不是合法的主机IP地址

> 例如在`1111 1111 1111 1111 1111 1111  1100 0000`的第四字节末尾`1100 0000`中，取值为0的位数为6，因此每个子网可包含主机数为$2^6-2=62$个

### 3.3确定有哪些合法子网

+ 计算  块大小（增量）=256-子网掩码
+ 从0开始不断增加64，直到达到子网掩码值，中间结果包括0和子网掩码值都是合法子网

> 例如在`1111 1111 1111 1111 1111 1111  1100 0000`中，第四字节末尾`1100 0000`为192，则块大小=256-192=64，即子网掩码为为192时，块大小为64，从0开始不断增加64，直到达到子网掩码值，中间的结果0、64、128、192都是合法的子网
>
> 因为掩码为`1111 1111 1111 1111 1111 1111  1100 0000`，而C类地址的`XXXX XXXX XXXX XXXX XXXX XXXX **** ****`的`X`部分已经确定，`XXXX XXXX XXXX XXXX XXXX XXXX **## ####`的`#`部分分给主机号，只有`XXXX XXXX XXXX XXXX XXXX XXXX **## ####`中间` **`用于划分子网，组合为00,01,10,11，若后面都为0，即`00 00 0000`为0，`01 00 0000`为64，`10 00 0000`为128，`11 00 0000`为192，等分为4块，容纳主机数相同，都是`00 0000`到`11 1111`之间

### 3.4确定每个子网的广播地址

+ 下一个子网前面一个数（即本子网最后一个数）

> 例如前面已经确定子网为0、64、128、92则子网0的广播地址为63，因为下一个子网为64，子网64的广播地址为127，以为下一个子网为128,128广播地址为191,192广播地址为255，最后一个广播地址总是255

### 3.5确定合法主机地址

+ 合法主机的地址位于两个子网之间，但是全0和全1地址除外，全0为子网地址，全1为广播地址
+ 即：每个子网的子网地址到广播地址之间，不包括两端

> 例如子网号为64，广播地址为127，则合法主机地址范围为65-126



# 实践

## 实践0：子网划分示例

网络地址为：192.168.1.0

子网掩码为：255.255.255.128（/25）

---


0.子网掩码第四字节化为二进制

+ 255.255.255.128

+ 1111 1111  1111  1111  1111  1111    1000 0000

+ 128-->1000 0000

+ > 1位定义子网，其余定义主机

1.确定子网数
  + $2^x$=$2^1$=2

  + > 1000 0000共1个1

2.确定每个子网主机数

+ $2^y-2$=$2^7-2$=126台 

+ >1000 0000共7个0用于确定每个子网主机数

3.确定有哪些合法子网

+ 256-128=128

+ 0 和 128

+ > 块大小为128，从0增加128到128只有0和128
  >
  > 即XXXXXXXX XXXXXXX XXXXXXXX 0 ### ####的子网地址XXXXXXXX XXXXXXX XXXXXXXX 0 000 0000
  >
  > XXXXXXXX XXXXXXX XXXXXXXX 1 ### ####的子网地址XXXXXXXX XXXXXXX XXXXXXXX 1 000 0000

4.确定每个子网广播地址

+ 子网0的下一个子网是128，所以其广播地址是127

+ 子网127为最后一个子网其广播地址是255

+ > 即
  >
  > 子网XXXXXXXX XXXXXXX XXXXXXXX 0 000 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 0 111 1111
  >
  > 子网XXXXXXXX XXXXXXX XXXXXXXX 1 000 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 1 111 1111

5.确定每个子网包含主机的合法地址

+ 主机地址在每个子网的子网地址和广播地址之间，不包括每个子网的子网地址和广播地址

+ > 子网地址XXXXXXXX XXXXXXX XXXXXXXX 0 000 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 0 111 1111之间的XXXXXXXX XXXXXXX XXXXXXXX 0 ### ####变更#，但是不能全0或者全1
  >
  > 子网地址XXXXXXXX XXXXXXX XXXXXXXX 1 000 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 1 111 1111之间的XXXXXXXX XXXXXXX XXXXXXXX 1 ### ####变更#，但是不能全0或者全1

| 子网             | 0    | 128  |
| ---------------- | ---- | ---- |
| 子网广播地址     | 127  | 255  |
| 第一个主机地址   | 1    | 129  |
| 最后一个主机地址 | 126  | 254  |



## 实践1

---

对于 网络地址为：192.168.10.99/26，求所属子网，及该子网广播地址和合法主机地址范围

---

11111111 11111111 11111111    1100 0000

子网掩码为：255.255.255.192（/26）

99(10)=01 10  0011(2)

所属子网为01 00 0000即64即192.168.10.64

该子网广播地址为01 11 1111即127即192.168.10.127

合法主机地址为01 00 0000到01 11 1111，即64到127，即192.168.10.65到192.168.10.126

------

对于  网络地址为：192.168.10.99/26，求选定子网掩码的相关问题

---

子网掩码为：255.255.255.192（/26）

0.子网掩码第四字节化为二进制

- 255.255.255.192

- 1111 1111  1111  1111  1111  1111    1100 0000

- 192-->1100 0000

- > 1位定义子网，其余定义主机

1.确定子网数

- $2^x$=$2^2$=4

- > 1100 0000共2个1

2.确定每个子网主机数

- $2^y-2$=$2^6-2$=62台 

- > 1100 0000共6个0用于确定每个子网主机数

3.确定有哪些合法子网

- 256-192=64

- 0、64、128、192

- 即192.168.10.0、192.168.10.64、192.168.10.128、192.168.10.192

- > 块大小为64，从0增加192到128有0、64、128、192
  >
  > 即
  >
  > XXXXXXXX XXXXXXX XXXXXXXX 00 ## ####的子网地址XXXXXXXX XXXXXXX XXXXXXXX 00  00 0000
  >
  > XXXXXXXX XXXXXXX XXXXXXXX 01 ## ####的子网地址XXXXXXXX XXXXXXX XXXXXXXX 01  00 0000
  >
  > XXXXXXXX XXXXXXX XXXXXXXX 10 ## ####的子网地址XXXXXXXX XXXXXXX XXXXXXXX 10  00 0000
  >
  > XXXXXXXX XXXXXXX XXXXXXXX 11 ## ####的子网地址XXXXXXXX XXXXXXX XXXXXXXX 11  00 0000

4.确定每个子网广播地址

- 子网0的下一个子网是64，所以其广播地址是63，即192.168.10.63

- 子网64的下一个子网是128，所以其广播地址是127，即192.168.10.127

- 子网128的下一个子网是192，所以其广播地址是191，即192.168.10.191

- 子网192为最后一个子网其广播地址是255，即192.168.10.255

- > 即
  >
  > 子网XXXXXXXX XXXXXXX XXXXXXXX 00 00 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 00 11 1111
  >
  > 子网XXXXXXXX XXXXXXX XXXXXXXX 01 00 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 01 11 1111
  >
  > 子网XXXXXXXX XXXXXXX XXXXXXXX 10 00 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 10 11 1111
  >
  > 子网XXXXXXXX XXXXXXX XXXXXXXX 11 00 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 11 11 1111

5.确定每个子网包含主机的合法地址

- 主机地址在每个子网的子网地址和广播地址之间，不包括每个子网的子网地址和广播地址

- > 子网地址XXXXXXXX XXXXXXX XXXXXXXX 00 00 0000的广播地址XXXXXXXX XXXXXXX XXXXXXXX 00 11 1111之间的XXXXXXXX XXXXXXX XXXXXXXX 00 ## ####变更#，但是不能全0或者全1

| 子网             | 0    | 64   | 128  | 192  |
| ---------------- | ---- | ---- | ---- | ---- |
| 子网广播地址     | 63   | 127  | 191  | 255  |
| 第一个主机地址   | 1    | 65   | 129  | 193  |
| 最后一个主机地址 | 62   | 126  | 190  | 254  |

即

| 子网             | 192.168.10.0  | 192.168.10.64  | 192.168.10.128 | 192.168.10.192 |
| ---------------- | ------------- | -------------- | -------------- | -------------- |
| 子网广播地址     | 192.168.10.63 | 192.168.10.127 | 192.168.10.191 | 192.168.10.255 |
| 第一个主机地址   | 192.168.10.1  | 192.168.10.65  | 192.168.10.129 | 192.168.10.193 |
| 最后一个主机地址 | 192.168.10.62 | 192.168.10.126 | 192.168.10.190 | 192.168.10.254 |



## 实践2

---

网络地址为：192.158.10.66/27

---

> 11111111 11111111 11111111    111 00000

> 子网掩码为：255.255.255.224（/27）

> 66(10)=010  0  0010(2)

所属子网为010 00000即64即192.158.10.64

该子网广播地址为010 1 1111即9即192.158.10.95

合法主机地址为010 0 0000到010 1 1111，即64到95，即192.158.10.66到192.158.10.94

------

对于  网络地址为：192.158.10.66/27，求选定子网掩码的相关问题

---

子网掩码为：255.255.255.224（/27）

0.子网掩码第四字节化为二进制

- 255.255.255.224

- 1111 1111  1111  1111  1111  1111    111 0 0000

- 224-->111 0 0000

- > 1位定义子网，其余定义主机

1.确定子网数

- $2^x$=$2^3$=8

- > 1110 0000共3个1

2.确定每个子网主机数

- $2^y-2$=$2^5-2$=30台 

- > 111 0 0000共5个0用于确定每个子网主机数

3.确定有哪些合法子网

- 256-224=32

- 0、32、64、96、128、160、192、224

- 即192.158.10.0、192.158.10.32、192.158.10.64、192.158.10.96、192.158.10.128、192.158.10.160、192.158.10.192、192.158.10.224

- > 块大小为32，从0增加224所有的数
  >

4.确定每个子网广播地址

- 子网0的下一个子网是32，所以其广播地址是31，即192.158.10.31
- 子网32的下一个子网是64，所以其广播地址是63，即192.158.10.63
- 子网64的下一个子网是96，所以其广播地址是95，即192.158.10.95
- 子网96的下一个子网是128，所以其广播地址是127，即192.158.10.127
- 子网128的下一个子网是160，所以其广播地址是159，即192.158.10.159
- 子网160的下一个子网是192，所以其广播地址是191，即192.158.10.191
- 子网192的下一个子网是224，所以其广播地址是223，即192.158.10.223
- 子网224为最后一个子网其广播地址是255，即192.158.10.255

5.确定每个子网包含主机的合法地址

- 主机地址在每个子网的子网地址和广播地址之间，不包括每个子网的子网地址和广播地址


| 子网             | 0    | 32   | 64   | 96   | 128  | 160  | 192  | 224  |
| ---------------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 子网广播地址     | 31   | 63   | 95   | 127  | 159  | 191  | 223  | 255  |
| 第一个主机地址   | 1    | 33   | 65   | 97   | 129  | 161  | 193  | 225  |
| 最后一个主机地址 | 30   | 62   | 94   | 126  | 158  | 190  | 222  | 254  |



## 实践3

----

| 网络地址             | 192.168.10.37/28                                             |
| -------------------- | ------------------------------------------------------------ |
| 子网掩码             | 11111111 11111111 11111111 1111 0000（28个1）<br />255.255.255.240 |
| 所属子网             | 37(10)=0010 0101<br />->1111 0000^0010 0101=0010 0000(2)=32(10)<br />->192.168.10.32 |
| 所属子网广播地址     | 0010 1111(2)=47<br />->192.168.10.47                         |
| 所属子网合法主机范围 | 192.168.10.33到192.168.10.46                                 |

对于该IP选定的子网掩码

| 子网掩码           | 1111 0000=240 |
| ------------------ | ------------- |
| 创建的子网数       | $2^4=16$      |
| 每个子网所含主机数 | $2^4-2=14$    |
| 块大小             | 256-240=16    |

| 合法子网                 | 子网广播地址 | 第一个主机地址 | 最后一个主机地址 |
| ------------------------ | ------------ | -------------- | ---------------- |
| 0                        | 15           | 1              | 14               |
| 16                       | 31           | 17             | 30               |
| 32                       | 47           | 33             | 46               |
| 48                       | 63           | 49             | 62               |
| 64                       | 79           | 65             | 78               |
| 80                       | 95           | 81             | 94               |
| 96                       | 111          | 97             | 110              |
| 112                      | 127          | 113            | 126              |
| 128                      | 143          | 129            | 142              |
| 144                      | 159          | 145            | 158              |
| 160                      | 175          | 161            | 174              |
| 176                      | 191          | 177            | 190              |
| 192                      | 207          | 193            | 206              |
| 208                      | 223          | 209            | 222              |
| 224                      | 239          | 225            | 238              |
| 240                      | 255          | 241            | 254              |
|                          |              |                |                  |
| 16N   $(256 >16N \ge 0)$ | 16(N+1)-1    | 16N+1          | 16(N+1)-1-1      |
| 16(N+1)                  |              |                |                  |





## 实践4

| 网络地址             | 192.168.10.17/29                                             |
| -------------------- | ------------------------------------------------------------ |
| 子网掩码             | 11111111 11111111 11111111 1111 1000（29个1）<br />255.255.255.248 |
| 所属子网             | 17(10)=0001 0001<br />->1111 1000^0001 0001=0001 0000(2)=16(10)<br />->192.168.10.16 |
| 所属子网广播地址     | 0001 0111(2)=23<br />->192.168.10.23                         |
| 所属子网合法主机范围 | 192.168.10.17到192.168.10.22                                 |

对于该IP选定的子网掩码

| 子网掩码           | 1111 1000=248 |
| ------------------ | ------------- |
| 创建的子网数       | $2^5=32$      |
| 每个子网所含主机数 | $2^3-2=6$     |
| 块大小             | 256-248=8     |

| 合法子网 | 子网广播地址 | 第一个主机地址 | 最后一个主机地址 |
| -------- | ------------ | -------------- | ---------------- |
| 0        | 7            | 1              | 6                |
| 8        | 15           | 9              | 14               |
| 16       | 23           | 17             | 22               |
| 24       | 31           | 25             | 30               |
| 32       | 39           | 33             | 38               |
| 40       | 47           | 41             | 46               |
| 48       | 55           | 49             | 54               |
| 56       | 63           | 57             | 62               |
| 64       | 71           | 65             | 70               |
| 72       | 79           | 73             | 78               |
| 80       | 87           | 81             | 86               |
| 88       | 95           | 89             | 94               |
| 96       | 103          | 97             | 102              |
| 104      | 111          | 105            | 110              |
| 112      | 119          | 113            | 118              |
| 120      | 127          | 121            | 126              |
| 128      | 135          | 129            | 134              |
| 136      | 143          | 137            | 142              |
| 144      | 151          | 145            | 150              |
| 152      | 159          | 153            | 158              |
| 160      | 167          | 161            | 166              |
| 168      | 175          | 169            | 174              |
| 176      | 183          | 177            | 182              |
| 184      | 191          | 185            | 190              |
| 192      | 199          | 193            | 198              |
| 200      | 207          | 201            | 206              |
| 208      | 215          | 209            | 214              |
| 216      | 223          | 217            | 222              |
| 224      | 231          | 225            | 230              |
| 232      | 239          | 233            | 238              |
| 240      | 247          | 241            | 246              |
| 248      | 255          | 249            | 254              |



## 实践5

| 网络地址             | 192.168.10.25/30                                             |
| -------------------- | ------------------------------------------------------------ |
| 子网掩码             | 11111111 11111111 11111111 1111 1100（30个1）<br />255.255.255.252 |
| 所属子网             | 25(10)=0001 1001<br />->1111 1100^0001 1001=0001 1000(2)=24(10)<br />->192.168.10.24 |
| 所属子网广播地址     | 0001 1011(2)=27<br />->192.168.10.27                         |
| 所属子网合法主机范围 | 192.168.10.25到192.168.10.26                                 |

对于该IP选定的子网掩码

| 子网掩码           | 1111 1100=252 |
| ------------------ | ------------- |
| 创建的子网数       | $2^6=64$      |
| 每个子网所含主机数 | $2^2-2=2$     |
| 块大小             | 256-252=4     |

| 合法子网 | 子网广播地址 | 第一个主机地址 | 最后一个主机地址 |
| -------- | ------------ | -------------- | ---------------- |
| 0        | 3            | 1              | 2                |
| 4        | 7            | 5              | 6                |
| 8        | 11           | 9              | 10               |
| 12       | 15           | 13             | 14               |
| 16       | 19           | 17             | 18               |
| 20       | 23           | 21             | 22               |
| 24       | 27           | 25             | 26               |
| 28       | 31           | 29             | 30               |
| 32       | 35           | 33             | 34               |
| 36       | 39           | 37             | 38               |
| 40       | 43           | 41             | 42               |
| 44       | 47           | 45             | 46               |
| 48       | 51           | 49             | 50               |
| 52       | 55           | 53             | 54               |
| 56       | 59           | 57             | 58               |
| 60       | 63           | 61             | 62               |
| 64       | 67           | 65             | 66               |
| 68       | 71           | 69             | 70               |
| 72       | 75           | 73             | 74               |
| 76       | 79           | 77             | 78               |
| 80       | 83           | 81             | 82               |
| 84       | 87           | 85             | 86               |
| 88       | 91           | 89             | 90               |
| 92       | 95           | 93             | 94               |
| 96       | 99           | 97             | 98               |
| 100      | 103          | 101            | 102              |
| 104      | 107          | 105            | 106              |
| 108      | 111          | 109            | 110              |
| 112      | 115          | 113            | 114              |
| 116      | 119          | 117            | 118              |
| 120      | 123          | 121            | 122              |
| 124      | 127          | 125            | 126              |
| 128      | 131          | 129            | 130              |
| 132      | 135          | 133            | 134              |
| 136      | 139          | 137            | 138              |
| 140      | 143          | 141            | 142              |
| 144      | 147          | 145            | 146              |
| 148      | 151          | 149            | 150              |
| 152      | 155          | 153            | 154              |
| 156      | 159          | 157            | 158              |
| 160      | 163          | 161            | 162              |
| 164      | 167          | 165            | 166              |
| 168      | 171          | 169            | 170              |
| 172      | 175          | 173            | 174              |
| 176      | 179          | 177            | 178              |
| 180      | 183          | 181            | 182              |
| 184      | 187          | 185            | 186              |
| 188      | 191          | 189            | 190              |
| 192      | 195          | 193            | 194              |
| 196      | 199          | 197            | 198              |
| 200      | 203          | 201            | 202              |
| 204      | 207          | 205            | 206              |
| 208      | 211          | 209            | 210              |
| 212      | 215          | 213            | 214              |
| 216      | 219          | 217            | 218              |
| 220      | 223          | 221            | 222              |
| 224      | 227          | 225            | 226              |
| 228      | 231          | 229            | 230              |
| 232      | 235          | 233            | 234              |
| 236      | 239          | 237            | 238              |
| 240      | 243          | 241            | 242              |
| 244      | 247          | 245            | 246              |
| 248      | 251          | 249            | 250              |
| 252      | 255          | 253            | 254              |



# 模拟

## Cisco Packet Tracer模拟



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191124191927.png)

```bash
PC>ipconfig

IP Address......................: 192.168.1.2
Subnet Mask.....................: 255.255.255.128
Default Gateway.................: 192.168.1.1

PC>ping 192.168.1.3

Pinging 192.168.1.3 with 32 bytes of data:

Reply from 192.168.1.3: bytes=32 time=18ms TTL=128
Reply from 192.168.1.3: bytes=32 time=11ms TTL=128
Reply from 192.168.1.3: bytes=32 time=10ms TTL=128
Reply from 192.168.1.3: bytes=32 time=9ms TTL=128

Ping statistics for 192.168.1.3:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 9ms, Maximum = 18ms, Average = 12ms

PC>ping 192.168.1.129

Pinging 192.168.1.129 with 32 bytes of data:

Reply from 192.168.1.1: Destination host unreachable.
Reply from 192.168.1.1: Destination host unreachable.
Reply from 192.168.1.1: Destination host unreachable.
Reply from 192.168.1.1: Destination host unreachable.

Ping statistics for 192.168.1.129:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),

PC>ping 192.168.10.99

Pinging 192.168.10.99 with 32 bytes of data:

Reply from 192.168.1.1: Destination host unreachable.
Reply from 192.168.1.1: Destination host unreachable.
Reply from 192.168.1.1: Destination host unreachable.
Reply from 192.168.1.1: Destination host unreachable.

Ping statistics for 192.168.10.99:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
```

```bash
PC>ipconfig

IP Address......................: 192.168.10.99
Subnet Mask.....................: 255.255.255.192
Default Gateway.................: 192.168.10.1

PC>ping 192.168.10.65

Pinging 192.168.10.65 with 32 bytes of data:

Reply from 192.168.10.65: bytes=32 time=10ms TTL=128
Reply from 192.168.10.65: bytes=32 time=10ms TTL=128
Reply from 192.168.10.65: bytes=32 time=11ms TTL=128
Reply from 192.168.10.65: bytes=32 time=13ms TTL=128

Ping statistics for 192.168.10.65:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 10ms, Maximum = 13ms, Average = 11ms

PC>ping 192.168.10.2

Pinging 192.168.10.2 with 32 bytes of data:

Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 192.168.10.2:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),

PC>ping 192.168.1.2

Pinging 192.168.1.2 with 32 bytes of data:

Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 192.168.1.2:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
```

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191124192421.png)

```bash
PC>ipconfig

IP Address......................: 192.158.1.2
Subnet Mask.....................: 255.255.255.224
Default Gateway.................: 192.158.1.1

PC>ping 192.158.1.3

Pinging 192.158.1.3 with 32 bytes of data:

Reply from 192.158.1.3: bytes=32 time=24ms TTL=128
Reply from 192.158.1.3: bytes=32 time=7ms TTL=128
Reply from 192.158.1.3: bytes=32 time=13ms TTL=128
Reply from 192.158.1.3: bytes=32 time=10ms TTL=128

Ping statistics for 192.158.1.3:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 7ms, Maximum = 24ms, Average = 13ms

PC>ping 192.158.1.129

Pinging 192.158.1.129 with 32 bytes of data:

Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 192.158.1.129:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
```

```bash
PC>ipconfig

IP Address......................: 192.168.10.5
Subnet Mask.....................: 255.255.255.252
Default Gateway.................: 192.168.10.1

PC>ping 192.168.10.6

Pinging 192.168.10.6 with 32 bytes of data:

Reply from 192.168.10.6: bytes=32 time=18ms TTL=128
Reply from 192.168.10.6: bytes=32 time=10ms TTL=128
Reply from 192.168.10.6: bytes=32 time=3ms TTL=128
Reply from 192.168.10.6: bytes=32 time=8ms TTL=128

Ping statistics for 192.168.10.6:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 3ms, Maximum = 18ms, Average = 9ms

PC>ping 192.168.10.26

Pinging 192.168.10.26 with 32 bytes of data:

Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 192.168.10.26:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),

PC>ping 192.158.1.2

Pinging 192.158.1.2 with 32 bytes of data:

Request timed out.
Request timed out.
Request timed out.
Request timed out.

Ping statistics for 192.158.1.2:
    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),
```



# 实验总结

划分子网的步骤为，根据子网掩码计算有多少子网，每个子网有多少主机，注意减去全0和全1的，计算合法子网，即从0开始加块大小，一直到256，其中块的计算为256减去子网掩码，广播地址为子网全1时状态，合法主机为子网到广播地址间的，不包括两端。

根据CIDR地址判断其所在子网，先求子网掩码，即网络前缀长度个数个1后面补0凑整32位，然后子网掩码与改地址进行与运算，即可根据求得的值求得为所在子网。

使用子网掩码可划分子网，若未做额外配置，不在同一子网不可通讯。



























