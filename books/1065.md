# 局域网LAN（local area network）概述

 ISO/OSI RM是通用的网络模型结构，作为一种标准框架为构建网络提供了一个参照。但局城网作为一种特殊的网络， 有它自身的技术特点。另外，由于局城网实现方法的多样性，所以它井不完全套用OSI体系结构。国际上通用的局城网标准由IEEE 802委员会制定。IEEE 802委员会根据局域网适用的传输媒体、网络拓扑结构、性能及实现难易等因素，为LAN制定了一系列标准， 称为IEEE 802标准，已被ISO采纳为国际标准。        

局城网的体系结构与OSI参考模型既有一定的对应关系， 又存在很大的区别。由于局城网大多采用共享信道，当通信局限于一个局域网内部时，任意两个节点之间都有唯一的链路， 即网络层的功能可由链路层来完成，局域网中不单独设立网络层。局域网的层次结构不包括OSI的高层结构，它所涵盖的功能层只有物理层和数据链路层，另外包括与第三层(网络层/网际层)的接口，并将数据链路层分成了逻辑链路控制(LLC)子层与介质访问控制(MAC)子层.



## 局域网的主要特点

+ 网络为一个单位所拥有
+ 地理范围和站点数目均有限。 

## 局域网的主要优点如下

+ 能方便地共享昂贵的外部设备、主机以及软件、数据。
+ 从一个站点可以访问全网。便于系统的扩展和逐渐演变，各设备的位置可灵活的调整和改变。
+ 提高系统的可靠性、可用性和残存性。

## LAN中各层功能

局域网的体系结构与标准

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191223122918.png)

    

### 1.物理层

物理层提供在物理实体间发送和接收比特的能力，一对物理实体能确认出两个介质访问控制MAC子层实体间同等层比特单元的交换。物理层也要实现电气、机械、功能和规程四大特性的匹配。物理层提供的发送和接收信号的能力包括对宽带的频带分配和对基带的信号调制。

### 2.LLC子层

LLC子层向高层提供一个或多个逻辑接口(具有帧发和帧收功能)。发送时把要发送的数据加上地址和CRC检验字段构成帧，介质访问时把帧拆开，执行地址识别和CRC校验功能，并具有帧顺序控制和流量控制等功能。LLC子层还包括为某些网络层功能，如数据报、虚拟控制和多路复用等。    

LLC子层向高层提供一个或多个逻辑接口（具有帧发和帧收功能）。发送时把要发送的数据加上地址和CRC检验字段构成帧，介质访问时把帧拆开，执行地址识别和CRC校验功能，并具有帧顺序控制和流量控制等功能。LLC子层还包括为某些网络层功能，如数据报、虚拟控制和多路复用等。

### 3.MAC子层

由于在EE 802成立之前，采用了不同的传输介质和拓扑结构的局域网的存在，这些局域网采用不同的介质访问控制方式，各有特点和适用场合。IEEB 802无法用统一的方法取代它们，只能允许其存在。因而为每种介质访问方式制定一个标准， 从而形成了多种介质控制(media access control, MAC)协议。为使各种介质访问控制方式能与上层接口并保证传输可靠，所以在其上又制定了一一个单独LLC子层。这样，仅MAC子层依赖于具体的物理介质和介质访问控制方法，而LLC子层与媒体无关，对上屏蔽了下层的是体实观细节，使数据帧的传输独立于所采用的物理介质和个质访问方式。同时它允有可扩充性。有司铲完善和补充新的介质访向控制方式，适应已有的和未来发展的各种物理网络，具有可扩性。

MAC子层支持数据链路功能，并为LLC子层提供服务。它将上层交下来的数据封装成帧进行发送（接收时进行相反过程，将帧拆卸）、实现和维护MAC协议、比特差错检验和寻址等。



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105013148.png)



局域网对 LLC 子层是透明的 



## 局域网标准



局域网中，绝大多数标准都是由IEEE802委员会制定的IEEE 802系列标准，其中在企业网络中应用最为广泛的就是以太网的局域网标准IEEE 802.3。IEEE 802系列标准后来被ISO接受为国际标准，标准名为IS0 8802。

IEEE于1985年公布了IEEE 802标准的5项标准文本，同年该标准被美国国家标准局( ANSI)采纳作为美国国家标准。后来国际标准化组织(ISO)经过讨论，建议将802标准定为局域网国际标准。





+ （1）IEEE 802.1标准：局域网体系结构、网络互连、以及网络管理和性能测试。
+ （2）IEEE 802.2标准：逻辑链路控制LLC子层功能与服务。
+ （3）IEEE 802.3标准：CSMA/CD总线介质访问控制子层与物理层规范。
+ （4）IEEE 802.4标准：令牌总线（Token Bus）介质访问控制子层与物理层规范。
+ （5）IEEE 802.5标准：令牌环（Token Ring）介质访问控制子层与物理层规范。
+ （6）IEEE 802.6标准：城域网MAN介质访问控制子层与物理层规范。
+ （7）IEEE 802.7标准：宽带网络技术。
+ （8）IEEE 802.8标准：光纤传输技术。
+ （9）IEEE 802.9标准：综合语音与数据局域网（IVD LAN）技术。
+ （10）IEEE 802.10标准：可互操作的局域网安全性规范（SILS）。
+ （11）IEEE 802.11标准：无线局域网技术。
+ （12）IEEE 802.12标准：优先度要求的访问控制方法。
+ （13）IEEE 802.13标准，未使用。
+ （14）IEEE 802.14标准：交互式电视网。
+ （15）IEEE 802.15标准：无线个人局域网（WPAN）的MAC子层和物理层规范。代表技术为蓝牙（Bluetooth）
+ （16）IEEE 802.16标准：宽带无线局域网网络。
+ （17）IEEE802.20标准：移动宽带无线接入系统(MBWA，Mobile Broadband Wireless Access)。
+ （18）IEEE 802.22标准：无线地域网络（Wireless Regional Area Networks，WRAN）

 802委员会标准之间的关系

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105013534.png)





## 局域网组网设备

### 网卡

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105013621.png)



网络接口板又称为通信适配器(adapter)或网络接口卡 NIC (Network Interface Card)，或“网卡”。 

网卡的重要功能：进行串行/并行转换。数据缓存。在计算机操作系统中安装设备驱动程序。实现以太网协议。  



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105013715.png)

常用的REALTEK的RTL8201BL网络芯片

 网卡类型

（1）按总线接口类型进行分类：分为ISA网卡、PCI网卡、PCI-X 网卡、PCMCIA网卡和USB网卡等几种类型。 

（2）按传输介质接口分类：细同轴电缆的BNC接口网卡、粗同轴电缆AUI接口网卡、以太网双绞线RJ-45接口网卡、光纤F/O接口网卡、无线网卡等。

（3）按传输速率（带宽）分类：10Mbps网卡、100Mbps以太网卡、10Mbps/100Mbps自适应网卡、1000Mbps千兆以太网卡、10Mbps/100Mbps/1000Mbps自适应网卡等。







### 中继器

中继器(Repeater)是局域网物理层的一种介质连接设备。它实际上是一种信号再生放大器，可将变弱的信号和有失真的信号进行整形与放大，输出信号比原信号的强度将大大提高。中继器不解释、不改变收到的数字信息，而只是将其整形放大后再转发出去。

采用中继器连接网络分支的数目要受具体的网络体系结构限制。以太网的中继器按照“5-4-3”原则连接LAN。“5-4-3”原则是将5个网段用4个中继器连接，为了防止冲突，其中最多有3个网段有用户设备。



中继器的优点：

（1）易于操作（2）很短的等待时间（4）价格便宜（5）突破线缆的距离限制来扩展局域网段的距离（6）可用来连接不同的物理介质。



中继器的缺点：

（1）采用中继器连接网络分支的数目要受具体的网络体系结构限制。（2）中继器不能连接不同类型的网络。（3）中继器没有隔离和过滤功能，无路由选择、交换、纠错／检错功能，一个分支出现故障可能会影响到其他的每一个网络分支。（4）使用中继器扩充网络距离是最简单最廉价的方法，但当负载增加时，网络性能急剧下降，所以只有当网络负载很轻和网络时延要求不高的条件下才能使用。





### 集线器

集线器（Hub）工作在物理层，是中继器的一种形式，是一种集中连接缆线的网络组件，可以认为集线器是一个多端口的中继器，集线器能够提供多端口服务，主要功能是对接收到的信号进行再生整形放大，以扩大网络的传输距离，同时把所有节点集中在以它为中心的节点上。集线器主要用于共享介质局域网的建设。



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105014154.png)



集线器D-Link DE-824TP的外观





![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105014233.png)





利用集线器星型拓扑结构网络



### 网桥

网桥（Bridge）也叫桥接器，是连接两个局域网的一种存储/转发设备，根据MAC地址表对数据帧进行转发，可隔离碰撞域。网桥将网络的多个网段在数据链路层连接起来，并对网络数据帧进行管理。它不但能扩展网络的距离或范围，而且可提高网络的性能、可靠性和安全性。根据网桥的工作方式，有透明网桥、转换网桥、封装网桥、源路由选择网桥。



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105014410.png)



网桥的内部结构 



使用网桥带来的好处 

过滤通信量。 扩大了物理范围。提高了可靠性。可互连不同物理层、不同 MAC 子层和不同速率（如10 Mb/s 和 100 Mb/s 以太网）的局域网。

![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105014542.png)

网桥使各网段成为隔离开的碰撞域 







使用网桥带来的缺点 

存储转发增加了时延。 

在MAC 子层并没有流量控制功能。 

具有不同 MAC 子层的网段桥接在一起时时延更大。

网桥只适合于用户数不太多(不超过几百个)和通信量不太大的局域网，否则有时还会因传播过多的广播信息而产生网络拥塞。这就是所谓的广播风暴。  



### 交换机

交换机是工作在OSI参考模型数据链路层的设备，外表和集线器相似。它通过判断数据帧的目的MAC地址，从而将数据帧从合适端口发送出去。交换机的冲突域仅局限于交换机的一个端口上。交换机是通过MAC地址的学习和维护更新机制来实现数据帧的转发.



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105014813.png)



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105014832.png)



交换机内部结构





交换机的工作原理



（1）交换机根据收到数据帧中的源MAC地址建立该地址同交换机端口的映射，并将其写入MAC地址表中。   
（2）交换机将数据帧中的目的MAC地址同已建立的MAC地址表进行比较，以决定由哪个端口进行转发。   
（3）如数据帧中的目的MAC地址不在MAC地址表中，则向所有端口转发。这一过程称为泛洪（flood）。 
（4）广播帧和组播帧向所有的端口转发。 





集线器与交换机的比较



（1）交换机属于数据链路层设备，而集线器属于物理层设备。

（2）集线器在转发帧时，不对传输介质进行检测。交换机在转发帧之前必须执行 CSMA/CD 算法。若在发送过程中出现碰撞，就必须停止发送和进行退避。所以交换机能隔离冲突，而集线器却只能增加冲突。







![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105015029.png)



三个独立的局域网





![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105015103.png)





用集线器互连后冲突域和广播域都增大了



![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191105015212.png)



交换机互连后冲突域并没有变化





（3） 交换机的每个端口可提供专用的带宽，而集线器的所有端口只能共享带宽。

（4）集线器只能实现半双工传送，而交换机可支持全双工传送。



































































