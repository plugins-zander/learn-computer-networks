# netstat(linux/win)

```
一、功能
      该实用程序显示当前网络的活动连接。
二、格式
       netstat

```



|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [操作系统](https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F) | [Unix](https://zh.wikipedia.org/wiki/Unix)和[类Unix系统](https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F)、[IBM OS/2](https://zh.wikipedia.org/wiki/IBM_OS/2)、[Microsoft Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)、[ReactOS](https://zh.wikipedia.org/wiki/ReactOS) |

**netstat**是一个基于[命令行界面](https://zh.wikipedia.org/wiki/%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2)的[网络](https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C)[实用工具](https://zh.wikipedia.org/wiki/%E5%AE%9E%E7%94%A8%E7%A8%8B%E5%BA%8F)，可显示当前的网络状态，包括[传输控制协议](https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE)层的连线状况、[路由表](https://zh.wikipedia.org/wiki/%E8%B7%AF%E7%94%B1%E8%A1%A8)、[网络接口](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3)状态和[网络协议](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE)的统计信息等。[[1\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-gf-1)`netstat`命令适用于[类Unix系统](https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F)（如[macOS](https://zh.wikipedia.org/wiki/MacOS)、[Linux](https://zh.wikipedia.org/wiki/Linux)、[Solaris](https://zh.wikipedia.org/wiki/Solaris)和[BSD](https://zh.wikipedia.org/wiki/BSD)）、[IBM OS/2](https://zh.wikipedia.org/wiki/IBM_OS/2)和[Windows NT](https://zh.wikipedia.org/wiki/Windows_NT)操作系统家族（如[Windows XP](https://zh.wikipedia.org/wiki/Windows_XP)、[Windows Vista](https://zh.wikipedia.org/wiki/Windows_Vista)、[Windows 7](https://zh.wikipedia.org/wiki/Windows_7)、[Windows 8](https://zh.wikipedia.org/wiki/Windows_8)和[Windows 10](https://zh.wikipedia.org/wiki/Windows_10)）。[[2\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-windows-2)[[3\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-twenty-3)

`netstat`可用于查找网络中的问题，并可通过计算[网络流量](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F)来度量网络性能。[[4\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-errors-4)[[5\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-5)尽管该工具仍然被包含在许多[Linux发行版](https://zh.wikipedia.org/wiki/Linux%E5%8F%91%E8%A1%8C%E7%89%88)中，但基本都被看作过时、应被替代的工具。[[6\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-6)[[7\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_8-7)[[8\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_guide-8)[[9\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_foundation-9)

在[Linux](https://zh.wikipedia.org/wiki/Linux)上，推荐使用`ss`替代`netstat`，使用`ip route`替代`netstat -r`，使用`ip -s link`替代`netstat -i`，使用`ip maddr`替代`netstat -g`。[[10\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-10)[[11\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-11)[[12\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-12)[[13\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-13)

## 命令参数

命令`netstat`的[参数](https://zh.wikipedia.org/wiki/%E5%8F%83%E6%95%B8_(%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88))必须以[连字符](https://zh.wikipedia.org/wiki/%E8%BF%9E%E5%AD%97%E7%AC%A6)（-）而非[斜杠](https://zh.wikipedia.org/wiki/%E6%96%9C%E6%9D%A0)（/）为前缀。并非所有平台都支持某些参数。[[1\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-gf-1)

| 参数   | 描述                                                         | [Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)[[2\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-windows-2)[[14\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-ms_doc-14) | [ReactOS](https://zh.wikipedia.org/wiki/ReactOS)[[15\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-15) | [macOS](https://zh.wikipedia.org/wiki/MacOS)[[16\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-16)[[17\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-17)[[18\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-18) | [BSD](https://zh.wikipedia.org/wiki/BSD)[[19\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-19) | [NetBSD](https://zh.wikipedia.org/wiki/NetBSD)[[20\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-20)[[21\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-21) | [FreeBSD](https://zh.wikipedia.org/wiki/FreeBSD)[[22\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-22) | [Linux](https://zh.wikipedia.org/wiki/Linux)[[3\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-twenty-3)[[7\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_8-7)[[8\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_guide-8) | [Solaris](https://zh.wikipedia.org/wiki/Solaris)[[23\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-23) | [OS/2](https://zh.wikipedia.org/wiki/OS/2)[[24\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-24)[[25\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-ibm-25) |
| ------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **-a** | 显示所有活动中的网络连接和[电脑](https://zh.wikipedia.org/wiki/%E7%94%B5%E8%84%91)正在监听的[TCP/UDP端口](https://zh.wikipedia.org/wiki/TCP/UDP%E7%AB%AF%E5%8F%A3%E5%88%97%E8%A1%A8)。 | 是                                                           | 是                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              |
| **-b** | 显示每个应用程序所使用的网络连接和监听[端口](https://zh.wikipedia.org/wiki/%E9%80%9A%E8%A8%8A%E5%9F%A0) 。（仅适用于[Windows XP](https://zh.wikipedia.org/wiki/Windows_XP)、[Windows Server 2003](https://zh.wikipedia.org/wiki/Windows_Server_2003)或更高版本的[Microsoft Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)操作系统，[Windows 2000](https://zh.wikipedia.org/wiki/Windows_2000)或更早版本不可用。） | 是                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              | 否                                                           |
| **-b** | 同**-i**，但计算[网络流量](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F)的总[字节](https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82)数。 |                                                              | 否                                                           | 是                                                           |                                                              | 是                                                           |                                                              |                                                              |                                                              | 否                                                           |
| **-e** | 显示[以太网](https://zh.wikipedia.org/wiki/%E4%BB%A5%E5%A4%AA%E7%BD%91)统计信息，例如发送和接收的字节数及[数据包](https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%8C%85)数。此参数可以与**-s**组合使用。 | 是                                                           | 是                                                           |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              | 否                                                           |
| **-f** | 显示外部地址的[完整网域名称](https://zh.wikipedia.org/wiki/%E5%AE%8C%E6%95%B4%E7%B6%B2%E5%9F%9F%E5%90%8D%E7%A8%B1)。（仅适用于[Windows Vista](https://zh.wikipedia.org/wiki/Windows_Vista)和更高版本的[Microsoft Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)操作系统。） | 是                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              | 否                                                           |
| **-f** | 限定显示使用特定[套接字](https://zh.wikipedia.org/wiki/%E5%A5%97%E6%8E%A5%E5%AD%97)（unix、inet、inet6）的地址族。 |                                                              | 否                                                           |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              | 否                                                           |
| **-g** | 显示[多播组](https://zh.wikipedia.org/wiki/%E5%A4%9A%E6%92%AD#IP%E5%A4%9A%E6%92%AD)信息。（可能仅适用于较新的[操作系统](https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F)。） | 否                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              |
| **-i** | 显示[网络接口](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3)及统计信息。 | 否                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              |
| **-m** | 显示[随机存取存储器](https://zh.wikipedia.org/wiki/%E9%9A%8F%E6%9C%BA%E5%AD%98%E5%8F%96%E5%AD%98%E5%82%A8%E5%99%A8)统计信息。 | 否                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              |
| **-n** | 显示活动中的[TCP](https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE)连接，但主机地址和[端口](https://zh.wikipedia.org/wiki/%E9%80%9A%E8%A8%8A%E5%9F%A0)号以数字形式表示，不会尝试确定实际主机名。 | 是                                                           | 是                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              |
| **-o** | 显示活动中的TCP连接，并包含每个连接的[进程ID](https://zh.wikipedia.org/wiki/%E8%BF%9B%E7%A8%8BID)（PID）。根据PID，可在[Windows任务管理器](https://zh.wikipedia.org/wiki/%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8_(Windows%E5%85%83%E4%BB%B6))的“进程”选项卡中找到该应用程序。此参数可以与**-a**、**-n**和**-p**组合使用。如果安装了Windows修补程序，则此参数在[Windows XP](https://zh.wikipedia.org/wiki/Windows_XP)、[Windows Server 2003](https://zh.wikipedia.org/wiki/Windows_Server_2003)和[Windows 2000](https://zh.wikipedia.org/wiki/Windows_2000)上可用。 | 是                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              | 否                                                           |
| **-p** | 显示使用指定[网络协议](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE)的连接。协议可以是TCP、UDP、TCPv6或UDPv6。如果此参数与**-s**组合使用，则协议可以是TCP、UDP、ICMP、IP、TCPv6、UDPv6、ICMPv6或IPv6。 | 是                                                           | 是                                                           |                                                              | 是                                                           |                                                              |                                                              |                                                              |                                                              |                                                              |
| **-p** | 显示哪些进程正在使用哪些网络接口，类似于[Microsoft Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)下的**-b**。（需要[root权限](https://zh.wikipedia.org/wiki/Root%E6%9D%83%E9%99%90)才能执行此操作。） | 否                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              |
| **-P** | 显示使用指定[网络协议](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE)的连接。协议可以是IP、IPv6、ICMP、ICMPv6、IGMP、UDP、TCP或RawIP。 | 否                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              |
| **-r** | 显示[路由表](https://zh.wikipedia.org/wiki/%E8%B7%AF%E7%94%B1%E8%A1%A8)内容，与[Microsoft Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)下`route print`命令相同。 | 是                                                           | 是                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              | 是                                                           |
| **-s** | 按网络协议显示统计信息。默认情况下，显示TCP、UDP、ICMP和IP协议的统计信息。如果[Windows XP](https://zh.wikipedia.org/wiki/Windows_XP)安装了IPv6协议，亦可以显示TCPv6、UDPv6、ICMPv6和IPv6协议的统计信息。**-p**参数可用于指定一组协议。 | 是                                                           | 是                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              |
| **-t** | 仅显示TCP连接。                                              |                                                              | 否                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              | 是                                                           |
| **-u** | 仅显示UDP连接。                                              | 否                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              | 是                                                           |                                                              | 是                                                           |
| **-W** | 显示完整[主机名](https://zh.wikipedia.org/wiki/%E4%B8%BB%E6%9C%BA%E5%90%8D)或IPv6地址。 | 否                                                           | 否                                                           |                                                              |                                                              |                                                              | 是                                                           |                                                              |                                                              | 否                                                           |
| **-v** | 与**-b**组合使用时，将显示所有应用程序使用的网络连接和监听[端口](https://zh.wikipedia.org/wiki/%E9%80%9A%E8%A8%8A%E5%9F%A0)所涉及的组件列表。 | 是                                                           | 否                                                           |                                                              |                                                              |                                                              |                                                              |                                                              |                                                              | 否                                                           |
| **-h** | 显示该命令的提示。                                           | 否                                                           | 否                                                           | 是                                                           | 是                                                           | 是                                                           | 是                                                           | 是                                                           | 是                                                           | 否                                                           |
| **-?** | 显示该命令的提示。                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 是                                                           |
| **/?** | 显示该命令的提示。                                           | 是                                                           | 是                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           | 否                                                           |

## 统计信息

- Proto：[网络协议](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE)，包括[传输控制协议](https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE)（TCP）和[用户数据报协议](https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE)（UDP）。[[26\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-26)
- Local Address：本地计算机的[IP地址](https://zh.wikipedia.org/wiki/IP%E5%9C%B0%E5%9D%80)和正在使用的[端口](https://zh.wikipedia.org/wiki/%E9%80%9A%E8%A8%8A%E5%9F%A0)号。除非使用**-n**参数，否则将显示与IP地址和端口对应的[主机名称](https://zh.wikipedia.org/wiki/%E4%B8%BB%E6%A9%9F%E5%90%8D%E7%A8%B1)。如果主机正在侦听所有端口，则主机名显示为[星号](https://zh.wikipedia.org/wiki/%E6%98%9F%E5%8F%B7)（*）。如果端口尚未创建，则端口号显示为星号。[[27\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-27)
- Foreign Address：远程计算机的IP地址和正在使用的端口号。除非指定了**-n**参数，否则将显示与IP地址和端口对应的主机名称。如果端口尚未创建，则端口号显示为星号（*）。[[28\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-28)
- State：TCP连接的状态，可能的状态包括CLOSE_WAIT、CLOSED、ESTABLISHED、FIN_WAIT_1、FIN_WAIT_2、LAST_ACK、LISTEN、SYN_RECEIVED、SYN_SEND和TIME_WAIT。[[29\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-29)

## 命令范例

要仅显示TCP或UDP协议的统计信息，请键入以下命令之一[[30\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-30)：

> `netstat -sp tcp`

> `netstat -sp udp`

[类Unix系统](https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F)[[1\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-gf-1)[[3\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-twenty-3)[[9\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_foundation-9)[[31\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-31)[[32\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-32)：


> `netstat -aop | grep "pid"`


> `sudo netstat -nutpacw`

[Microsoft Windows](https://zh.wikipedia.org/wiki/Microsoft_Windows)[[14\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-ms_doc-14)：


> `netstat -o 5`


> `netstat -no`

## 命令

### linux-deepin15.11

```
NETSTAT(8)                       Linux Programmer's Manual                      NETSTAT(8)

NAME
       netstat - 显示网络连接，路由表，接口状态，伪装连接，网络链路信息和组播成员组。

总览 SYNOPSIS
       netstat  [address_family_options] [--tcp|-t] [--udp|-u] [--raw|-w] [--listening|-l]
       [--all|-a]    [--numeric|-n]    [--numeric-hosts][--numeric-ports][--numeric-ports]
       [--symbolic|-N]     [--extend|-e[--extend|-e]]     [--timers|-o]     [--program|-p]
       [--verbose|-v] [--continuous|-c] [delay]

       netstat    {--route|-r}     [address_family_options]     [--extend|-e[--extend|-e]]
       [--verbose|-v]  [--numeric|-n]  [--numeric-hosts][--numeric-ports][--numeric-ports]
       [--continuous|-c] [delay]

       netstat    {--interfaces|-i}    [iface]    [--all|-a]    [--extend|-e[--extend|-e]]
       [--verbose|-v]     [--program|-p]    [--numeric|-n]    [--numeric-hosts][--numeric-
       ports][--numeric-ports] [--continuous|-c] [delay]

       netstat {--groups|-g} [--numeric|-n]  [--numeric-hosts][--numeric-ports][--numeric-
       ports] [--continuous|-c] [delay]

       netstat {--masquerade|-M} [--extend|-e] [--numeric|-n] [--numeric-hosts][--numeric-
       ports][--numeric-ports] [--continuous|-c] [delay]

       netstat {--statistics|-s} [--tcp|-t] [--udp|-u] [--raw|-w] [delay]

       netstat {--version|-V}

       netstat {--help|-h}

       address_family_options:

       [--protocol={inet,unix,ipx,ax25,netrom,ddp}[,...]]     [--unix|-x]    [--inet|--ip]
       [--ax25] [--ipx] [--netrom] [--ddp]

描述 DESCRIPTION
       Netstat  程序显示Linux网络子系统的信息。 输出信息的类型是由第一个参数控制的，就像这
       样：

   (none)
       无选项时, netstat 显示打开的套接字.  如果不指定任何地址族，那么打印出所有已配置地址
       族的有效套接字。
   --route , -r
       显示内核路由表。

   --groups , -g
       显示IPv4 和 IPv6的IGMP组播组成员关系信息。

   --interface=iface , -i
       显示所有网络接口列表或者是指定的 iface 。

   --masquerade , -M
       显示一份所有经伪装的会话列表。

   --statistics , -s
       显示每种协议的统计信息。

选项 OPTIONS
   --verbose , -v
       详细模式运行。特别是打印一些关于未配置地址族的有用信息。

   --numeric , -n
       显示数字形式地址而不是去解析主机、端口或用户名。

   --numeric-hosts
       显示数字形式的主机但是不影响端口或用户名的解析。

   --numeric-ports
       显示数字端口号，但是不影响主机或用户名的解析。

   --numeric-users
       显示数字的用户ID，但是不影响主机和端口名的解析。

   --protocol=family , -A
       指定要显示哪些连接的地址族(也许在底层协议中可以更好地描述)。  family 以逗号分隔的地
       址族列表，比如 inet, unix, ipx, ax25, netrom, 和 ddp。  这样和使用  --inet,  --unix
       (-x), --ipx, --ax25, --netrom, 和 --ddp 选项效果相同。

       地址族 inet 包括raw, udp 和tcp 协议套接字。

   -c, --continuous
       将使 netstat 不断地每秒输出所选的信息。
   -e, --extend
       显示附加信息。使用这个选项两次来获得所有细节。

   -o, --timers
       包含与网络定时器有关的信息。

   -p, --program
       显示套接字所属进程的PID和名称。

   -l, --listening
       只显示正在侦听的套接字(这是默认的选项)

   -a, --all
       显示所有正在或不在侦听的套接字。加上 --interfaces 选项将显示没有标记的接口。

   -F
       显示FIB中的路由信息。(这是默认的选项)

   -C
       显示路由缓冲中的路由信息。

   delay
       netstat将循环输出统计信息，每隔 delay 秒。

输出 OUTPUT
   活动的Internet网络连接 (TCP, UDP, raw)
   Proto
       套接字使用的协议。

   Recv-Q
       连接此套接字的用户程序未拷贝的字节数。

   Send-Q
       远程主机未确认的字节数。
   Local Address
       套接字的本地地址(本地主机名)和端口号。除非给定-n  --numeric (-n) 选项，否则套接字地
       址按标准主机名(FQDN)进行解析，而端口号则转换到相应的服务名。

   Foreign Address
       套接字的远程地址(远程主机名)和端口号。 Analogous to "Local Address."

   State
       套接字的状态。因为在RAW协议中没有状态，而且UDP也不用状态信息，所以此行留空。通常它
       为以下几个值之一：

       ESTABLISHED
              套接字有一个有效连接。

       SYN_SENT
              套接字尝试建立一个连接。

       SYN_RECV
              从网络上收到一个连接请求。

       FIN_WAIT1
              套接字已关闭，连接正在断开。

       FIN_WAIT2
              连接已关闭，套接字等待远程方中止。

       TIME_WAIT
              在关闭之后，套接字等待处理仍然在网络中的分组

       CLOSED 套接字未用。

       CLOSE_WAIT
              远程方已关闭，等待套接字关闭。

       LAST_ACK
              远程方中止，套接字已关闭。等待确认。

       LISTEN 套接字监听进来的连接。如果不设置 --listening (-l) 或者 --all (-a) 选项，将不
              显示出来这些连接。
       CLOSING
              套接字都已关闭，而还未把所有数据发出。

       UNKNOWN
              套接字状态未知。

   User
       套接字属主的名称或UID。

   PID/Program name
       以斜线分隔的处理套接字程序的PID及进程名。     --program      使此栏目被显示。你需要
       superuser 权限来查看不是你拥有的套接字的信息。对IPX套接字还无法获得此信息。

   Timer
       (this needs to be written)

   活动的UNIX域套接字
   Proto
       套接字所用的协议(通常是unix)。

   RefCnt
       使用数量(也就是通过此套接字连接的进程数)。

   Flags
       显示的标志为SO_ACCEPTON(显示为 ACC), SO_WAITDATA (W) 或 SO_NOSPACE (N)。 如果相应的
       进程等待一个连接请求，那么SO_ACCECPTON用于未连接的套接字。其它标志通常并不重要

   Type
       套接字使用的一些类型：

       SOCK_DGRAM
              此套接字用于数据报(无连接)模式。

       SOCK_STREAM
              流模式(连接)套接字

       SOCK_RAW
              此套接字用于RAW模式。
       SOCK_RDM
              一种服务可靠性传递信息。

       SOCK_SEQPACKET
              连续分组套接字。

       SOCK_PACKET
              RAW接口使用套接字。

       UNKNOWN
              将来谁知道它的话将告诉我们，就填在这里 :-)

   State
       此字段包含以下关键字之一：

       FREE   套接字未分配。

       LISTENING
              套接字正在监听一个连接请求。除非设置 --listening (-l)  或者  --all  (-a)  选
              项，否则不显示。

       CONNECTING
              套接字正要建立连接。

       CONNECTED
              套接字已连接。
       DISCONNECTING
              套接字已断开。

       (empty)
              套接字未连。

       UNKNOWN
              ！不应当出现这种状态的。

   PID/Program name
       处理此套接字的程序进程名和PID。上面关于活动的Internet连接的部分有更详细的信息。

   Path
       当相应进程连入套接字时显示路径名。

   活动的IPX套接字
       (this needs to be done by somebody who knows it)

   Active NET/ROM sockets
       (this needs to be done by somebody who knows it)

   Active AX.25 sockets
       (this needs to be done by somebody who knows it)

注意 NOTES
       从linux 2.2内核开始 netstat -i 不再显示别名接口的统计信息。要获得每个别名接口的计数
       器，则需要用 ipchains(8) 命令。

文件 FILES
       /etc/services -- 服务解释文件

       /proc -- proc文件系统的挂载点。proc文件系统通过下列文件给出了内核状态信息。

       /proc/net/dev -- 设备信息
       /proc/net/raw -- RAW套接字信息

       /proc/net/tcp -- TCP套接字信息

       /proc/net/udp -- UDP套接字信息

       /proc/net/igmp -- IGMP组播信息

       /proc/net/unix -- Unix域套接字信息

       /proc/net/ipx -- IPX套接字信息

       /proc/net/ax25 -- AX25套接字信息

       /proc/net/appletalk -- DDP(appletalk)套接字信息

       /proc/net/nr -- NET/ROM套接字信息

       /proc/net/route -- IP路由信息

       /proc/net/ax25_route -- AX25路由信息

       /proc/net/ipx_route -- IPX路由信息

       /proc/net/nr_nodes -- NET/ROM节点列表

       /proc/net/nr_neigh -- NET/ROM邻站

       /proc/net/ip_masquerade -- 伪装连接
       /proc/net/snmp -- 统计

参见 SEE ALSO
       route(8), ifconfig(8), ipchains(8), iptables(8), proc(5)

BUGS
       有时如果一个套接字在查看中发生了改变，会显示一些奇怪的信息。 一般不会发生这种情况。

作者 AUTHORS
       netstat 程序是 Fred Baumgarten<dc6iq@insu1.etec.uni-karlsruhe.de> 的作品。

       手册页是Matt Welsh <mdw@tc.cornell.edu> 写的。

       Alan Cox <Alan.Cox@linux.org> 做了一些更新，但是还需要做更多工作。

       Tuan Hoang<tqhoang@bigfoot.com> 又做了一些更新。

       Bernd Eckenfels <ecki@linux.de> 彻底重写了手册页和net-tools工具包中的命令。

[中文版维护人]
       meaculpa <meaculpa@21cn.com>

[中文版最新更新]
       2000/12/08

《中国linux论坛man手册页翻译计划》:
       http://cmpp.linuxforum.net

跋
       本页面中文版由中文 man 手册页计划提供。
       中文 man 手册页计划：https://github.com/man-pages-zh/manpages-zh

net-tools                            19 December 2000                           NETSTAT(8)

```

```

```



### win7x64

```
netstat /?
```

```
显示协议统计和当前 TCP/IP 网络连接。

NETSTAT [-a] [-b] [-e] [-f] [-n] [-o] [-p proto] [-r] [-s] [-t] [interval]

  -a            显示所有连接和侦听端口。
  -b            显示在创建每个连接或侦听端口时涉及的可执行程序。
                在某些情况下，已知可执行程序承载多个独立的
                组件，这些情况下，显示创建连接或侦听端口时涉
                及的组件序列。此情况下，可执行程序的名称
                位于底部[]中，它调用的组件位于顶部，直至达
                到 TCP/IP。注意，此选项可能很耗时，并且在您没有
                足够权限时可能失败。
  -e            显示以太网统计。此选项可以与 -s 选项结合使用。
  -f            显示外部地址的完全限定域名(FQDN)。
  -n            以数字形式显示地址和端口号。
  -o            显示拥有的与每个连接关联的进程 ID。
  -p proto      显示 proto 指定的协议的连接；proto 可以是下列任
                何一个: TCP、UDP、TCPv6 或 UDPv6。如果与 -s 选
                项一起用来显示每个协议的统计，proto 可以是下列任
                何一个: IP、IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP
                或 UDPv6。
  -r            显示路由表。
  -s            显示每个协议的统计。默认情况下，显示
                IP、IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP 和 UDPv6
                的统计；-p 选项可用于指定默认的子网。
  -t            显示当前连接卸载状态。
  interval      重新显示选定的统计，各个显示间暂停的间隔秒数。
                按 CTRL+C 停止重新显示统计。如果省略，则 netstat
                将打印当前的配置信息一次。

```

```
zander@zander-PC:~/Desktop$ netstat
Active Internet connections (w/o servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        1      0 zander-PC.lan:37370     tl-in-f188.1e100.n:5228 CLOSE_WAIT 
tcp        1      0 10.0.138.7:54389        210.22.245.XXX:http     CLOSE_WAIT 
tcp        0      0 zander-PC.lan:56272     91.108.56.XXX:http      TIME_WAIT  
tcp        1      0 zander-PC.lan:49763     223.166.151.XXX:http    CLOSE_WAIT 
tcp        0      0 zander-PC.lan:37368     tl-in-f188.1e100.n:5228 ESTABLISHED
tcp        1      0 zander-PC.lan:46351     223.166.151.XXX:http    CLOSE_WAIT 
tcp        1      0 10.0.137.87:39785       223.166.151.XXX:http    CLOSE_WAIT 
tcp        1      0 10.0.138.7:42099        223.167.87.XXX:http     CLOSE_WAIT 
tcp        0      0 zander-PC.lan:58028     91.108.56.XXX:https     ESTABLISHED
tcp        1      0 zander-PC.lan:33347     180.97.117.XXX:http      CLOSE_WAIT 
tcp        1      0 10.0.137.87:39795       223.166.151.XXX:http    CLOSE_WAIT 
tcp        0      0 zander-PC.lan:40666     91.108.56.XXX:http      TIME_WAIT  
tcp        0      0 zander-PC.lan:56292     91.108.56.XXX:http      TIME_WAIT  
tcp        0      0 zander-PC.lan:47064     47.103.46.XXX:https     ESTABLISHED
tcp        0      0 zander-PC.lan:37918     138.197.56.XXX:https    ESTABLISHED
tcp        0      0 zander-PC.lan:48051     116.128.163.XXX:http     TIME_WAIT  
tcp        0      0 zander-PC.lan:58960     47.111.15.XXX:https     ESTABLISHED
tcp        1      0 10.0.138.7:60505        223.166.151.XXX:http    CLOSE_WAIT 
tcp        1      0 zander-PC.lan:43541     223.167.87.XXX:http     CLOSE_WAIT 
tcp        1      0 zander-PC.lan:38405     210.22.245.XXX:http     CLOSE_WAIT 
tcp        1      0 zander-PC.lan:40996     120.92.84.XXX:9002      CLOSE_WAIT 
tcp6       0      0 zander-PC.lan:44610     58.215.175.XXX:http      ESTABLISHED
Active UNIX domain sockets (w/o servers)
Proto RefCnt Flags       Type       State         I-Node   Path
unix  2      [ ]         DGRAM                    41275    /run/user/1000/systemd/notify
unix  3      [ ]         DGRAM                    18980    /run/systemd/notify
unix  2      [ ]         DGRAM                    18981    /run/systemd/cgroups-agent
unix  2      [ ]         DGRAM                    30497    /var/lib/samba/private/msg.sock/3630
unix  2      [ ]         DGRAM                    36091    /var/lib/samba/private/msg.sock/3801
unix  2      [ ]         DGRAM                    36896    /var/lib/samba/private/msg.sock/3802
unix  74     [ ]         DGRAM                    18991    /run/systemd/journal/dev-log

```








```
C:\Users\2017>netstat

活动连接

  协议  本地地址          外部地址        状态
  TCP    127.0.0.1:5939         ZS301-1:49167          ESTABLISHED
  TCP    127.0.0.1:49167        ZS301-1:5939           ESTABLISHED
  TCP    172.16.0.77:49166      RS-BEG-ANX-R004:5938   ESTABLISHED
  TCP    172.16.0.77:49263      180.163.235.XXX:http   ESTABLISHED
  TCP    172.16.0.77:49337      172.16.63.11:ms-sql-s  ESTABLISHED
  TCP    172.16.0.77:49375      123.125.82.XXX:http    CLOSE_WAIT
  TCP    172.16.0.77:49862      hn:http                ESTABLISHED
  TCP    172.16.0.77:50918      180.163.198.XXX:https   TIME_WAIT
  TCP    172.16.0.77:50919      tsa01s07-in-f14:https  SYN_SENT
  TCP    172.16.0.77:50920      tsa01s07-in-f14:https  SYN_SENT
  TCP    172.16.0.77:50921      33:https               TIME_WAIT
  TCP    172.16.0.77:50924      58.222.53.XXX:https     TIME_WAIT
  TCP    172.16.0.77:50925      58.222.53.XXX:https     TIME_WAIT
  TCP    172.16.0.77:50926      33:https               TIME_WAIT
  TCP    172.16.0.77:50927      58.222.53.XXX:https     TIME_WAIT
  TCP    172.16.0.77:50928      58.222.53.XXX:https     TIME_WAIT
  TCP    172.16.0.77:50929      33:https               TIME_WAIT
  TCP    172.16.0.77:50937      117.18.237.XXX:http     ESTABLISHED
  TCP    172.16.0.77:50938      172.16.12.XXX:9100      SYN_SENT
  TCP    172.16.0.77:50939      185.199.108.XXX:https  ESTABLISHED
  TCP    172.16.0.77:50942      185.199.108.XXX:https  ESTABLISHED
  TCP    172.16.0.77:50947      185.199.110.XXX:https  ESTABLISHED
  TCP    172.16.0.77:50953      tsa01s07-in-f14:https  SYN_SENT
  TCP    172.16.0.77:50954      203.208.40.XXX:https    ESTABLISHED
  TCP    172.16.0.77:50955      203.208.50.XXX:https    ESTABLISHED
  TCP    172.16.0.77:50956      ec2-34-193-127-114:https  ESTABLISHED
  TCP    172.16.0.77:50958      ec2-34-193-127-114:https  ESTABLISHED

C:\Users\2017>
```









## 应用（类UNIX系统）

| 命令                        | 说明[[4\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-errors-4)[[9\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_foundation-9) |
| --------------------------- | ------------------------------------------------------------ |
| `netstat -a`                | 显示所有端口（无论被监听或不被监听）、所有网络协议的连接。   |
| `netstat -at`               | 仅显示TCP连接。                                              |
| `netstat -au`               | 仅显示UDP连接。                                              |
| `netstat -ant`              | 显示所有TCP连接，但不进行[域名解析](https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90)（即显示IP地址而不显示主机名）。 |
| `netstat -al`               | 显示所有被监听的端口。                                       |
| `sudo netstat -aep`         | 同时显示每个端口相关的进程和进程ID（需要[root权限](https://zh.wikipedia.org/wiki/Root%E6%9D%83%E9%99%90)以运行此命令）。 |
| `netstat -s > wiki.txt`     | 输出当前计算机网络统计信息到文本文件`wiki.txt`。             |
| `netstat -r`                | 显示路由表。与`route -e`的输出结果相同。                     |
| `netstat -i`                | 显示所有[网络接口](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3)。`netstat -i -e`与`ipconfig`的输出结果类似。 |
| `netstat -ct`               | 显示TCP连接（持续更新）。                                    |
| `netstat -g`                | 显示[多播组](https://zh.wikipedia.org/wiki/%E5%A4%9A%E6%92%AD#IP%E5%A4%9A%E6%92%AD)信息。 |
| `netstat -lntu`             | 显示所有监听端口的[守护进程](https://zh.wikipedia.org/wiki/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B)和本地计算机上所有空闲的开放端口。 |
| `netstat -atnp | grep ESTA` | 显示所有状态为ESTABLISHED的TCP连接。                         |

### 通配符

在`netstat`命令的输出结果中，[星号](https://zh.wikipedia.org/wiki/%E6%98%9F%E5%8F%B7)（*）为通配符，表示“所有”。[[33\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_ip-33)[[34\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-gbook_163-34)

例如：

```
....Local Address Foreign Address State
... *:smtp          *:*   LISTEN
```

在输出结果中，`*:smtp`表示该进程正在本地计算机的所有[网络接口](https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3)上监听所有[映射](https://zh.wikipedia.org/wiki/%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84)为[SMTP](https://zh.wikipedia.org/wiki/SMTP)的端口，此处的星号有时会被0.0.0.0代替，意义不改变。`*:*`中的第一个星号表示连接可以来自任何[IP地址](https://zh.wikipedia.org/wiki/IP%E5%9C%B0%E5%9D%80)，第二个星号表示连接可以来自远程计算机上的任何端口。[[25\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-ibm-25)[[33\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-linux_ip-33)[[34\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-gbook_163-34)[[35\]](https://zh.wikipedia.org/wiki/Netstat#cite_note-35)







### 外部链接

- `netstat(8)` – [Linux](https://zh.wikipedia.org/wiki/Linux)程序员[手册页](https://zh.wikipedia.org/wiki/%E6%89%8B%E5%86%8C%E9%A1%B5) – 管理及特权命令（Administration and Privileged Commands）
- `netstat(1)` – [FreeBSD](https://zh.wikipedia.org/wiki/FreeBSD)通用命令（General Commands）[手册页](https://zh.wikipedia.org/wiki/%E6%89%8B%E5%86%8C%E9%A1%B5)
- `netstat(1M)` – [Solaris 10](https://zh.wikipedia.org/wiki/Solaris_(%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F))系统管理命令（System Administration Commands）参考[手册页](https://zh.wikipedia.org/wiki/%E6%89%8B%E5%86%8C%E9%A1%B5)



## 参考

+ <https://zh.wikipedia.org/wiki/Netstat>



